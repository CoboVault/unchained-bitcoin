<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * This module provides various utility conversion and validation functions.
 * @module utils
 */

 import BigNumber from "bignumber.js";

/**
 * Converts a byte array to its hex representation.
 * @param {number[]} byteArray - array of bytes to convert
 * @example
 * const hex = toHexString([255, 0, 15, 16, 31, 32]);
 * console.log(hex) // ff000f101f20
 * @returns {string} hex representation of bytes
 */
export function toHexString(byteArray) {
  return Array.prototype.map.call(byteArray, function(byte) {
    return ('0' + (byte &amp; 0xFF).toString(16)).slice(-2);
  }).join('');
}

/**
 * Provide validation messages for a hex string.
 * @param {string} inputString - hex string to validate
 * @example
 * const validationError = validateHex('00112233gg');
 * console.log(validationError) // invalid hex - invalid characters
 * @returns {string} empty if valid or corresponding validation message
 */
export function validateHex(inputString) {
  if (inputString.length % 2) {
    return 'invalid hex - odd-length string';
  }
  const re = /^[0-9A-Fa-f]*$/;
  if (!re.test(inputString)) {
    return 'invalid hex - invalid characters';
  }
  return '';
}

/**
 * Convert a value in satoshis to corresponding value in BTC.
 * @param {BigNumber} num - value in satoshis
 * @example
 * const sats = BigNumber(123450000);
 * const btc = satoshisToBitcoins(sats);
 * console.log(btc); // 1.2345
 * @returns {BigNumber} value in BTC
 */
export function satoshisToBitcoins(num) {
  return new BigNumber(num).shiftedBy(-8);
}

/**
 * Convert a value in BTC to corresponding value in satoshis.
 * @param {BigNumber} num - value in BTC
 * @example
 * const btc = BigNumber(1.2345);
 * const sats = bitcoinsToSatoshis(btc);
 * console.log(sats); // 123450000
 * @returns {BigNumber} value in satoshis
 */
export function bitcoinsToSatoshis(num) {
  return new BigNumber(num).shiftedBy(8);
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-address.html">address</a></li><li><a href="module-bip32.html">bip32</a></li><li><a href="module-block_explorer.html">block_explorer</a></li><li><a href="module-keys.html">keys</a></li><li><a href="module-multisig.html">multisig</a></li><li><a href="module-networks.html">networks</a></li><li><a href="module-p2sh.html">p2sh</a></li><li><a href="module-p2sh_p2wsh.html">p2sh_p2wsh</a></li><li><a href="module-p2wsh.html">p2wsh</a></li><li><a href="module-script.html">script</a></li><li><a href="module-transactions.html">transactions</a></li><li><a href="module-utils.html">utils</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Fri Nov 08 2019 15:31:16 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
